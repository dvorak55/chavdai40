# Chavdai40% is very simple decoratable 40% keyboard
![chavdai](https://github.com/dvorak55/chavdai40/blob/master/image-ver1/impl-1.jpg)
 - Chavdai40%は、ちゃぶだいよんじゅっぱーせんと、と読みます
 - 古き良きちゃぶ台をイメージしました

![Logo](https://github.com/dvorak55/chavdai40/blob/master/logo_chavdai40/logo2-small2.png)

## 概要
Chavdai40%は、以下の条件を満たすよう設計した自作キーボードです。  
 - 40%キーボード
 - 価格が安い
 - 組み立てが簡単
 - 打鍵感が少し良い
 - 見た目が少し良い
 - 普通のキーキャップが使える　←重要

要は、安くてお手軽だけどある程度ユニークな小型キーボード、ということです。

## キーボードの完成写真
Chavdai40%の組立例です。  
### 組立例１（Chavdai40% ＋ mtリメイクシートKapitza SUN ＋ Tai-Hao ABS Cubic Miami Surf）
赤色の丸がかわいいリメイクシートと、ピンク色のキーキャップを組み合わせると、とってもポップな色合いになります。  
![chav-taihao1](https://github.com/dvorak55/chavdai40/blob/master/image-ver1/chav-taihao1.jpg)
アクセントカラーの青色キーキャップが華を添えている感じですね。
![chav-taihao2](https://github.com/dvorak55/chavdai40/blob/master/image-ver1/chav-taihao2.jpg)
リメイクシートとキーキャップセットは以下で購入可能です（2020年8月13日現在）  
●リメイクシート（mtマスキングテープのウェブサイト）
https://shop.masking-tape.jp/products/detail.php?product_id=106147  
●Tai-haoキーキャップ（遊舎工房ウェブサイト）
https://yushakobo.jp/shop/tai-hao-abs-cubic-miami-surf/  

### 組立例２（Chavdai40% ＋ mtリメイクシートKapitza FUJI ＋ GMK ECLIPSE）
青色の三角がクールなリメイクシートと、青色黒色のキーキャップを組み合わせると、とっても引き締まった色合いになります。  
![chav-eclipse1](https://github.com/dvorak55/chavdai40/blob/master/image-ver1/chav-eclipse1.jpg)
GMKのキーキャップセットなので、スペースキーを分割できます。この写真ではスペースキーが打ちやすいように上下逆につけています。  
![chav-eclipse2](https://github.com/dvorak55/chavdai40/blob/master/image-ver1/chav-eclipse2.jpg)
リメイクシートは以下から購入可能です（2020年8月13日現在）　キーキャップセットは今は購入できません。
●リメイクシート（mtマスキングテープのウェブサイト）
https://shop.masking-tape.jp/products/detail.php?product_id=106148  


## 特筆すべき点
Chavdai40%は、なにもしなければただの緑色の基板の自作キーボードですが、  
なんと、カモ井加工紙様のmt：マスキングテープを用いることで、お好きな柄になります。  
https://www.masking-tape.jp  
こちらのサイトからお好きなマスキングテープ・リメイクシート等をご購入いただけます。  
（このキーボードの作者はメーカーの中の人ではございません）

## Chavdai40%の詳しい説明
 - 40%キーボードなのに、一般的なキーキャップセットが使える
    - 40%キーボードって可愛いんですよね。でも、使えるキーキャップセットが少ない。
    - そんな辛さを解消するため、Chavdai40%には一般的なキーボードのキーキャップセットが使えます。
    - ただし、HHKB配列専用のキーキャップセットは使えません。
 - もちろん、高価なGMK等のキーキャップセットも使える
    - 一般的なキーキャップセットにはすべて対応しています。
    - GMKというお高めなキーキャップセットをご用意すると、2個目の2.25Uシフトキーと2.75シフトキーを使ってスペースキーが分割できます。
    - ※2個目の2.25Uシフトキーが入っていないキーキャップセットではスペースキーが分割できません。
 - ※JIS等の縦長Enterキーには対応していません
 - ネジ締めは一切不要で、細かい電子部品のハンダ付けもありません
    - キースイッチを本体にはんだ付けするだけで完成します
 - あなた好みにデコレーション可能
    - カモ井加工紙様の壁紙用マスキングテープ・リメイクシート等で可愛く・格好良く彩れます
 - QMKに対応しており、キーカスタマイズが可能
 - USB-C端子採用。リバーシブルでケーブル取り回しやすい
    - しかもUSB-C端子は本体に実装済みな！
 - 搭載できるキースイッチの種類は、Cherry MX互換のキースイッチです
 - スペースキーを分割するかしないかで、他に必要な部品が少し異なります
 - あらかじめファームウェアを書き込んだ上で動作確認をしています

## Kitに入っている部品
1. 本体（2枚のPCBが接着されたもの）　1つ
2. ゴム足　4つ　　←これは一番最後に取り付けます
3. 予備の電子部品（ダイオード2個）　　←これは組立時には不要だと思いますが、念の為に同梱しています
4. 問い合わせ先が記載された紙　1枚　　←ご不明点ありましたらこちらへお願いいたします

## その他の問い合わせ先
twitter: dombrick45 https://twitter.com/dombrick45  
はてなブログ: dvorak55 https://dvorak55.hatenadiary.jp  

## キーレイアウト
Chavdai40%では「分割スペースキー」と「長いスペースキー」のどちらを搭載するか、選べます。  
まず、このどちらかを選んでください。  
これにより、別途ご用意頂く部品の数が違います。  
※一般的なキーキャップセットを使いたい場合は、長いスペースキー：42キーを選ぶのが良いです。
※一般的なキーキャップセットでも、Backspaceキー（サイズは2U）を分割スペースキーとして使うことは可能ですが、少し隙間が空きます。

### 分割スペースキーのキーレイアウト　44キー
![44key](https://github.com/dvorak55/chavdai40/blob/master/keylayout_chavdai40/44key.png)

### 長いスペースキーのキーレイアウト　42キー
![42key](https://github.com/dvorak55/chavdai40/blob/master/keylayout_chavdai40/42key.png)

## 44キーを選んだ場合　別途ご用意頂く部品
1. PCBマウントタイプのスタビライザー（2U）　4個
2. PCBマウント（5ピン）のキースイッチ（MX互換）　44個
3. キーキャップセット　1セット　※スペースキー分割のため2.25Uシフトキーと二個目の2.75シフトキーが必要です
4. USB-C to USB-A ケーブル　1本

## 42キーを選んだ場合　別途ご用意頂く部品
1. PCBマウントタイプのスタビライザー（2U）　2個
2. PCBマウントタイプのスタビライザー（6.25U）　1個
3. PCBマウント（5ピン）のキースイッチ（MX互換）　42個
4. キーキャップセット　1セット
5. USB-C to USB-A ケーブル　1本

## デコレーションする場合　別途ご用意頂く部品
1. カモ井加工紙様のマスキングテープ（幅100mm、もしくは幅50mm）もしくは　リメイクシート　　←本体の表面と裏面に貼るためのもの
2. カモ井加工紙様のマスキングテープ（幅3mm）　　←本体の側面に貼るためのもの
もちろん、カモ井加工紙ではなく、別のマスキングテープやシート等でも全く問題はありません。  
※カモ井加工紙のマスキングテープ・リメイクシートはいろいろな柄が選べてとてもオススメです。  

## 組立に使う道具
 - カッターマット　　←硬い板などで代用可能
 - カッター
 - はんだごて（30ワット以上のもの）
 - ハンダを拭くスポンジとはんだごて置き場
 - ハンダ吸い取り器　もしくは　ハンダ吸い取り線
 - 鉛フリーではない普通のハンダ

## 組立の流れ　（デコレーションする場合）
1. 完成写真を見て、どんなデコレーションをしようか悩む
2. カモ井加工紙のマスキングテープやリメイクシートを購入する
3. 本体の表面（ちゃぶだいロゴのある方の面）にマスキングテープやリメイクシートを切り貼りする
4. キースイッチを本体に挿す
5. キースイッチを本体にはんだ付けする
6. キーキャップとスタビライザーを取り付ける
7. USBケーブルでPCにつなぎ、入力確認する
8. デフォルト以外のキーマップに変更する場合、QMKを用いてキーマップを変更する
9. キーマップが確定し、動作確認を完了する
10. 本体の裏面にマスキングテープやリメイクシートを切り貼りする
11. 必要に応じて、本体の側面にマスキングテープを切り貼りする
12. ゴム足をつける

## 組立の流れ　（デコレーションしない場合）
上記手順からデコレーションに関係する手順を飛ばすだけです。
1. キースイッチを本体に挿す
2. キースイッチを本体にはんだ付けする
3. キーキャップとスタビライザーを取り付ける
4. USBケーブルでPCにつなぎ、入力確認する
5. デフォルト以外のキーマップに変更する場合、QMKを用いてキーマップを変更する
6. キーマップが確定し、動作確認を完了する
7. 本体の裏面にテープを貼り、部品の露出を回避する
8. ゴム足をつける

## 組立手順
### １．完成写真を見て、どんなデコレーションをしようか悩む

### ２．カモ井加工紙のマスキングテープやリメイクシートを購入する
注意点：Chavdai40%の基板サイズが 横幅：283mm、奥行き：92mmです。このサイズ以上のデコレーション用テープorシールが必要です。  


### ３．本体の表面（ちゃぶだいロゴのある方の面）にマスキングテープやリメイクシートを切り貼りする
こちらの面が表面です。  
![impl-2](https://github.com/dvorak55/chavdai40/blob/master/image-ver1/impl-2.jpg)
この組立手順では以下のリメイクシート（mtリメイクシート Kapitza　SUN）を用います。  
https://shop.masking-tape.jp/products/detail.php?product_id=106147  
![kapitza-sun](https://github.com/dvorak55/chavdai40/blob/master/image-ver1/kapitza-sun.jpg)
ピンクの丸い模様がいい感じに可愛いですね。

※ マスキングテープを貼る場合は、幅100mmのマスキングテープだと楽です。何が楽かというと、1回貼れば終わるのが楽です。  
基板の奥行きが92mmほどあるので、幅50mmのマスキングテープの場合には、2回に分けて貼る必要があり多少大変です。  

リメイクシートはサイズが大きいので、剥離紙を剥がす前に基板サイズよりちょっと大きい程度に切り取ります。  
赤い線のあたりで切り取ってください。  
![impl-3](https://github.com/dvorak55/chavdai40/blob/master/image-ver1/impl-3.jpg)

剥離紙を剥がして貼り付けますが、USB端子のところだけシートを切り取ります。  
案外難しいかもですが、このように端子のところだけシートを切ってください。  
![impl-4](https://github.com/dvorak55/chavdai40/blob/master/image-ver1/impl-4.jpg)

その後、裏返してカッターで綺麗にはみ出したシートを切り取ります。  
![impl-5](https://github.com/dvorak55/chavdai40/blob/master/image-ver1/impl-5.jpg)
この時、USB端子のところだけ浮いてしまうので、段差のあるところで切ると良いです。

切り取った写真。  
![impl-6](https://github.com/dvorak55/chavdai40/blob/master/image-ver1/impl-6.jpg)
mtのリメイクシートは基板サイズに比べて大きいので、何回か失敗してもやり直しがききます。

### ４．キースイッチを本体に挿す
次に、キースイッチを本体に挿していきます。  
デコレーションしない場合は簡単に挿せると思います。  
デコレーションする場合、以下のように光に透かして穴を確認します。  
![impl-7](https://github.com/dvorak55/chavdai40/blob/master/image-ver1/impl-7.jpg)

穴を確認したところで、スイッチを挿していきます。  
![impl-8](https://github.com/dvorak55/chavdai40/blob/master/image-ver1/impl-8.jpg)
キースイッチの金属端子が曲がりやすいので、金属端子を先に挿してから全体を挿すようにすると良いです。

キースイッチによって多少挿しやすさが違いますが、何も考えずに挿していくと、横から見てスイッチが浮いてしまいます。  
![impl-9](https://github.com/dvorak55/chavdai40/blob/master/image-ver1/impl-9.jpg)
これを解消するために、基板を平らな場所に置いて、上から押してあげます。スイッチが本体に刺さりきるまで、結構押します。  
![impl-10](https://github.com/dvorak55/chavdai40/blob/master/image-ver1/impl-10.jpg)
キースイッチと本体の間に隙間がなくなればOKです。  
![impl-11](https://github.com/dvorak55/chavdai40/blob/master/image-ver1/impl-11.jpg)
※もしどうしても最後までスイッチが入り切らない場合は、その状態でOKです。スイッチがきちんと本体に固定されれば問題はありません。  

キースイッチ42個の場合、以下のようになります。  
![impl-12](https://github.com/dvorak55/chavdai40/blob/master/image-ver1/impl-12.jpg)

キースイッチ44個の場合、以下のようになります。
![impl-13](https://github.com/dvorak55/chavdai40/blob/master/image-ver1/impl-13.jpg)


### ５．キースイッチを本体にはんだ付けする
キースイッチを本体に挿したあと、基板を裏返します。  
すると、このように基板からスイッチの端子が出ております。  
![impl-14](https://github.com/dvorak55/chavdai40/blob/master/image-ver1/impl-14.jpg)

スイッチの端子をすべてはんだ付けします。  
既に実装されている部品をハンダこてで外してしまわないように、ご注意ください。  

![impl-15](https://github.com/dvorak55/chavdai40/blob/master/image-ver1/impl-15.jpg)
はんだ付けをします。
![impl-16](https://github.com/dvorak55/chavdai40/blob/master/image-ver1/impl-16.jpg)

![impl-17](https://github.com/dvorak55/chavdai40/blob/master/image-ver1/impl-17.jpg)
すべてのスイッチの端子をはんだ付けします。
![impl-18](https://github.com/dvorak55/chavdai40/blob/master/image-ver1/impl-18.jpg)

はんだ付けの際に、基板にレジンがついてしまうことがあります。  
![impl-19](https://github.com/dvorak55/chavdai40/blob/master/image-ver1/impl-19.jpg)
はんだ付けが終わったら、こういうレジンを基板からはがしてください。  
レジンは少しこするだけではがれるはずです。

### ６．キーキャップとスタビライザーを取り付ける
キットに必要なスタビライザーを用意します。  
![impl-20](https://github.com/dvorak55/chavdai40/blob/master/image-ver1/impl-20.jpg)

スタビライザーを取り付ける向きは、大きい穴の方に横棒がが来るようにします。  
エンターキーのスタビライザーは、このような向きです。  
![impl-21](https://github.com/dvorak55/chavdai40/blob/master/image-ver1/impl-21.jpg)

シフトキーのスタビライザーは、このような向きです。  
![impl-22](https://github.com/dvorak55/chavdai40/blob/master/image-ver1/impl-22.jpg)

スペースキーのスタビライザーは、このような向きです。  
![impl-23](https://github.com/dvorak55/chavdai40/blob/master/image-ver1/impl-23.jpg)

スタビライザーもキースイッチと同様に、マスキングテープやリメイクシートを破るように基板に差し込みます。  
![impl-24](https://github.com/dvorak55/chavdai40/blob/master/image-ver1/impl-24.jpg)

大きい穴（横棒が付いている方）から挿し込み、奥まで挿したら、小さい穴を挿し込みます。  
![impl-25](https://github.com/dvorak55/chavdai40/blob/master/image-ver1/impl-25.jpg)

スタビライザーを挿し込む時、穴にかかっている両面テープが引っかかったり破れたりしますが、問題ありません。  
![impl-26](https://github.com/dvorak55/chavdai40/blob/master/image-ver1/impl-26.jpg)

スタビライザーが搭載できました。  
![impl-27](https://github.com/dvorak55/chavdai40/blob/master/image-ver1/impl-27.jpg)


### ７．USBケーブルでPCにつなぎ、入力確認する
スイッチのはんだ付けがうまくいっているか、何かしら問題が発生していないかを確認するため、入力確認をします。  
Chavdai40%は、デフォルトでQWERTY配列のキーマップが使えるようになっています。  
USBケーブルでPCもしくはMacに繋いで、メモ帳を開いて、アルファベットやエンター等、入力がきちんとされるかを確認します。  

#### ★きちんと動作しない場合  
まずは、以下をご確認してみてください。その後、私にお問い合わせください。お問い合わせ先はキットに同梱してあります。  
 - 特定のキーだけが入力できない場合　　→　　そのスイッチのはんだ付けがうまくいっていない可能性があります
 - 特定の列・行のキーだけ入力できない場合　　→　　基板の故障の可能性があります
 - 全部のキーが入力できない場合　　→　　USBケーブルが故障している可能性があります
 - 特定のキーで強く押さないと入力ができない場合　　→　　スイッチ内部の金属端子の接続不良の可能性があります

### ８．デフォルト以外のキーマップに変更する場合、QMKを用いてキーマップを変更する
Chavdai40%はQMKに対応したキーボードですので、キーマップを変更することができます。  

そのためにQMKというソフトウェアをダウンロードし、ご自分のPCやMacでプログラムを書き換えてコンパイルして、  
完成したバイナリファイルをキーボードに書き込むという作業が必要となるのですが……  

●とりあえず試しに使ってみたい場合  
こちらで作成したキーマップを42キーと44キーそれぞれ3種類ご用意してあります。  
※3種類のキーマップで、レイヤーキーを押したときのキーは共通です。  
42キー  
![chavdai1-42keymaps](https://github.com/dvorak55/chavdai40/blob/master/keylayout_chavdai40/chavdai1-42keymaps.png)
44キー  
![chavdai1-6keymaps](https://github.com/dvorak55/chavdai40/blob/master/keylayout_chavdai40/chavdai1-6keymaps.png)

以下の場所からバイナリファイルをダウンロードできます。  
https://github.com/dvorak55/chavdai40/tree/master/hex
基本的にQWERTY配列のファイルをお使いになると思いますが、作者が使っているDvorak配列や、素晴らしいEucalyn配列も作りました。  

●キーを自分好みにカスタマイズして使いたい場合  
QMK Configuratorというツールを使うと、簡単にプログラムをコンパイルしてバイナリファイルをダウンロードすることができます。  
↓  
https://config.qmk.fm/#/chavdai40/LAYOUT_42key

●どちらの場合も、バイナリファイルを書き込むためには「QMK Toolbox」というツールを使います。  
↓  
https://github.com/qmk/qmk_toolbox/releases

このツールを使う時、Chavdai40%をDFUモードで起動しなければなりません。  
●Chavdai40%をDFUモードで起動する方法  
PCとChavdai40%をUSBケーブルで接続した状態で、以下の画像のように、本体中央に近いボタンを押しながら、本体端に近いボタンを押して離します。
![impl-28](https://github.com/dvorak55/chavdai40/blob/master/image-ver1/impl-28.jpg)
すると、QMK ToolboxにDFUモードとして認識されます。  

この2種類のツールの使い方は、  
サリチル酸氏（自キー界の導師のようなすごい人）のウェブサイトにわかりやすく掲載されておりますので、  
ぜひご覧になってください。（私は自ら説明することを放棄する悪い人間）  

●QMK Configuratorの使い方  
https://salicylic-acid3.hatenablog.com/entry/qmk-configurator  
●QMK Toolboxの使い方  
https://salicylic-acid3.hatenablog.com/entry/qmk-toolbox  


### ９．キーマップが確定し、動作確認を完了する
想定通りのキーが入力できるようになれば、入力機器としてはきちんと使えるようになりました。 

#### ９−１．本体の裏面にテープや紙を貼り、部品の露出を回避する（デコレーションしない場合に必要な手順）
デコレーションしない場合、本体の裏面に部品が露出しています。  
そのままだと部品が引っかかったりして故障の原因になるため、本体の裏面に何かしらのテープや紙を貼ってください。  
Chavdai40%の包装紙を基板サイズに切り取って、両面テープで裏面に貼り付けるのが一番簡単だと思います。

デコレーションしている場合、もう少しだけ僕たちのChavdai40%作りは続くんじゃよ！

### １０．本体の裏面にマスキングテープやリメイクシートを切り貼りする
はんだ付けが完了しているため、裏面にもマスキングテープまたはリメイクシートを貼ります。  
Chavdai40%は本体の裏面に部品が露出しているため、これを貼らないと部品が引っかかったりして故障の原因になります。  
貼る要領は表面と同じです。  

### １１．必要に応じて、本体の側面にマスキングテープを切り貼りする
側面のデコレーションには、幅3mm（！）のマスキングテープを使います。  
このように、側面に貼り付けます。  
※下の写真では裏面にリメイクシートを貼る前に側面を貼っていますが、側面を貼るのは一番最後にするのがベストです。  
![impl-29](https://github.com/dvorak55/chavdai40/blob/master/image-ver1/impl-29.jpg)

### １２．ゴム足をつける
最後に、本体の裏面にゴム足を付けてください。  
付ける場所に成約はありませんが、四隅にするのが良いと思います。  
ただし、キーを押す力がすごく強い場合、四隅にゴム足をつけると打鍵時に本体がたわんで机に付いてしまう可能性もあります。  
もしそのような状態になったら、ゴム足を少し内側につけると改善されます。  
※なるべくそうならないように基板が上に反るように設計しております。  

※以下、完成写真や組立手順を追記予定です。
